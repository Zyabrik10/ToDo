!function(){var t=JSON.parse(localStorage.getItem("todo-list"))||{};function o(t){$(t).fadeOut()}function n(t){$(t).fadeIn()}function i(){$(window).on("keydown",(function(t){"Escape"===t.key&&(o($(".mw")),$(window).off("keydown"))}))}function a(t){$(t).mousedown((function(n){n.target.classList.contains("mw")&&(o($(t)),$(window).off("keydown"))}))}$(".button-todo-add").click((function(){n($(".mw.add-todo")),i()})),a(".mw.add-todo");function e(){var t;""!==$("#add-todo .todo-task-input").val().trim()&&(t=$('\n        <li>\n          <p class="mw-task-name global-p">'.concat($(".todo-task-input").val().trim(),'</p>\n          <button class="mw-task-remove-button global-button" type="button">&times;</button>\n        </li>\n    ')),$("#add-todo .mw-task-list").append(t),$("#add-todo .mw-task-list > li:last-child").hide().fadeIn(),$("#add-todo .mw-task-remove-button").click((function(){var t=this;$(this).parent().fadeOut(),setTimeout((function(){$(t).parent().remove()}),400)})))}function d(){t?localStorage.setItem("todo-list",JSON.stringify(t)):Notiflix.Notify.failure("ToDo is not saved :(")}function s(o){var n=o.id,i=o.name,a=o.task_list,e=o.isDone;t[n]={name:i,task_list:a,isDone:e},Notiflix.Notify.success("ToDo was successfully created"),d()}$(".mw-task-add-button").click((function(){e()}));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,o){return t+=(o&=63)<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o>62?"-":"_"}),"")},c=function(t){var o=t.id,n=t.name,i=t.isDone,a=t.q;return'\n  <li class="todo-item flex-container-item" data-id="'.concat(o,'" data-q="').concat(a,'">\n            <p class="todo-item-status ').concat(i?"done":"undone",' global-p">').concat(i?"Done":"Undone",'</p>\n            <p class="todo-item-name global-p">').concat(n,'</p>\n            <ul class="todo-item-buttons global-list">\n              <li>\n                <button class="todo-item-button edit-todo-button global-button" type="button" data-id="').concat(o,'" data-q="').concat(a,'">Edit</button>\n              </li>\n              <li>\n                <button class="todo-item-button remove-todo-button global-button" type="button" data-id="').concat(o,'" data-q="').concat(a,'">Remove</button>\n              </li>\n            </ul>\n          </li>\n  ')};function u(){Object.keys(t).length?$(".todo-empty-p").fadeOut():$(".todo-empty-p").fadeIn()}function r(o){var n=o.id,i=o.q,a=$(".todo-list > li[data-q=".concat(i,"]")),e=t[n],d=e.name,s=e.isDone;a.find(".todo-item-name").html(d),a.find(".todo-item-status").html(s?"Done":"Undone"),s?(a.find(".todo-item-status").addClass("done"),a.find(".todo-item-status").removeClass("undone")):(a.find(".todo-item-status").removeClass("done"),a.find(".todo-item-status").addClass("undone"))}var m=function(t){var o=t.text,n=t.isDone,i=t.id;return'\n        <li>\n          <p class="mw-task-name global-p">'.concat(o,'</p>\n          <input class="mw-task-toggle-button global-button" type="checkbox" ').concat(n?"checked":"",' data-id="').concat(i,'">\n        </li>\n      ')};function f(){$(".remove-todo-button").click((function(){var o;o=$(this).attr("data-id"),delete t[o],Notiflix.Notify.success("ToDo was successfully removed"),d(),u(),$(this).parent().parent().parent().fadeOut()}))}function v(){$(".edit-todo-button").click((function(){var o=$(this).attr("data-id"),e=$(this).attr("data-q"),s=t[o],l=s.name,c=s.task_list;n($(".mw.edit-todo")),i(),a(".mw.edit-todo"),$(".mw-edit-title").text(l);var u=c.map((function(t){var o=t.text,n=t.isDone,i=t.id;return m({text:o,isDone:n,id:i})}));$(".edit-todo .mw-task-list").html(u),$(".mw-task-toggle-button").change((function(){var n=Number($(this).attr("data-id"));t[o].task_list[n].isDone=!t[o].task_list[n].isDone,t[o].task_list.every((function(t){return t.isDone}))?t[o].isDone=!0:t[o].isDone=!1,d(),r({id:o,q:e})}))}))}function p(t){var o=t.id,n=t.name,i=t.isDone;$(".todo-list").append(c({id:o,name:n,isDone:i,q:$(".todo-list > li").length})),$(".todo-list > li:last-child").hide().fadeIn(),v(),f()}function b(){var t={name:$(".todo-title-input").val().trim(),task_list:Array.from($(".mw-added-task-list > li")).map((function(t,o){return{id:o,isDone:!1,text:t.querySelector(".mw-task-name").innerText.trim()}})),id:l(4),isDone:!1};s(t),p(t),u(),o("#add-todo"),$(".todo-title-input").val("").removeClass("active"),$(".todo-task-input").val("").removeClass("active"),$(".mw-task-list").html("")}$(".mw-add-todo-button").click((function(){""!==$("#add-todo .todo-title-input").val().trim()?0!==$("#add-todo .mw-task-list > li").length?b():Notiflix.Notify.info("Create at least one task for ToDo"):Notiflix.Notify.info("Enter title for ToDo")})),$(".mw-input").blur((function(){""!==$(this).val().trim()?$(this).addClass("active"):$(this).removeClass("active")})),function(){var o="",n=0;for(var i in t){var a=t[i],e=a.name,d=a.isDone;o+=c({name:e,isDone:d,id:i,q:n}),n+=1}$(".todo-list").html(o),u(),v(),f()}()}();
//# sourceMappingURL=index.c7d277e2.js.map
