!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=e.parcelRequired7c6;function a(t){$(t).fadeOut()}function r(t){$(t).fadeIn()}function l(){$(window).on("keydown",(function(t){"Escape"===t.key&&(a($(".mw")),$(window).off("keydown"))}))}function s(t){$(t).mousedown((function(e){e.target.classList.contains("mw")&&(a($(t)),$(window).off("keydown"))}))}null==i&&((i=function(t){if(t in o)return o[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return o[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},e.parcelRequired7c6=i),i.register("kMC0W",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return n.default(t)};var o,n=(o=i("8NIkP"))&&o.__esModule?o:{default:o}})),i.register("8NIkP",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}})),i.register("7AJDX",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}})),i.register("8CtQK",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),i.register("auk6i",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){if(!t)return;if("string"==typeof t)return n.default(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n.default(t,e)};var o,n=(o=i("8NIkP"))&&o.__esModule?o:{default:o}})),$(".button-todo-add").click((function(){r($(".mw.add-todo")),l()})),s(".mw.add-todo"),$(".mw-input").blur((function(){""!==$(this).val().trim()?$(this).addClass("active"):$(this).removeClass("active")}));var d=JSON.parse(localStorage.getItem("todo-list"))||{};function u(t){var e=t.id,o=t.name,n=t.isDone;return'\n  <li class="todo-item flex-container-item" data-id="'.concat(e,'">\n            <p class="todo-item-status ').concat(n?"done":"undone",' global-p">').concat(n?"Done":"Undone",'</p>\n            <p class="todo-item-name global-p">').concat(o,'</p>\n            <ul class="todo-item-buttons global-list">\n              <li>\n                <button class="todo-item-button edit-todo-button global-button" type="button" data-id="').concat(e,'">Edit</button>\n              </li>\n              <li>\n                <button class="todo-item-button remove-todo-button global-button" type="button" data-id="').concat(e,'">Remove</button>\n              </li>\n            </ul>\n          </li>\n  ')}function c(){d?localStorage.setItem("todo-list",JSON.stringify(d)):Notiflix.Notify.failure("ToDo is not saved :(")}function f(t){var e=t.id,o=t.name,n=t.task_list,i=t.isDone;d[e]={name:o,task_list:n,isDone:i},Notiflix.Notify.success("ToDo was successfully created"),c()}function m(){Object.keys(d).length?$(".todo-empty-p").fadeOut():$(".todo-empty-p").fadeIn()}function p(){var t="";for(var e in d){var o=d[e];t+=u({name:o.name,isDone:o.isDone,id:e})}$(".todo-list").html(t),m(),v(),b()}function b(){$(".remove-todo-button").click((function(){var t;t=$(this).attr("data-id"),delete d[t],Notiflix.Notify.success("ToDo was successfully removed"),c(),m(),$(this).parent().parent().parent().fadeOut()}))}function v(){$(".edit-todo-button").click((function(){var t=$(this).attr("data-id"),e=d[t],o=e.name,n=e.task_list;r($(".mw.edit-todo")),l(),s(".mw.edit-todo"),$(".mw-edit-title").text(o);var i=n.map((function(t){var e=t.text,o=t.isDone,n=t.id;return'\n        <li>\n          <p class="mw-task-name global-p">'.concat(e,'</p>\n          <input class="mw-task-toggle-button global-button" type="checkbox" ').concat(o?"checked":"",' data-id="').concat(n,'">\n        </li>\n      ')}));$(".edit-todo .mw-task-list").html(i),$(".mw-task-toggle-button").change((function(){var e=Number($(this).attr("data-id"));d[t].task_list[e].isDone=!d[t].task_list[e].isDone,d[t].task_list.every((function(t){return t.isDone}))?d[t].isDone=!0:d[t].isDone=!1,c(),$(".todo-list").html(""),p()}))}))}function y(t){var e=t.id,o=t.name,n=t.isDone;$(".todo-list").append(u({id:e,name:o,isDone:n})),$(".todo-list > li:last-child").hide().fadeIn(),v(),b()}function k(){var t;""!==$("#add-todo .todo-task-input").val().trim()&&(t=$('\n        <li>\n          <p class="mw-task-name global-p">'.concat($(".todo-task-input").val().trim(),'</p>\n          <button class="mw-task-remove-button global-button" type="button">&times;</button>\n        </li>\n    ')),$("#add-todo .mw-task-list").append(t),$("#add-todo .mw-task-list > li:last-child").hide().fadeIn(),$("#add-todo .mw-task-remove-button").click((function(){var t=this;$(this).parent().fadeOut(),setTimeout((function(){$(t).parent().remove()}),400)})))}$(".mw-task-add-button").click((function(){k()}));var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(t){return g.default(t)||h.default(t)||x.default(t)||_.default()};var g=D(i("kMC0W")),h=D(i("7AJDX")),_=D(i("8CtQK")),x=D(i("auk6i"));function D(t){return t&&t.__esModule?t:{default:t}}function N(){return t(w)(new Array(3).keys()).map((function(){return t=0,e=9,Math.floor(Math.random()*(e-t+1)+t);var t,e})).join("")}function O(){var t={name:$(".todo-title-input").val().trim(),task_list:Array.from($(".mw-added-task-list > li")).map((function(t,e){return{id:e,isDone:!1,text:t.querySelector(".mw-task-name").innerText.trim()}})),id:N(),isDone:!1};f(t),y(t),m()}$(".mw-add-todo-button").click((function(){""!==$("#add-todo .todo-title-input").val().trim()?0!==$("#add-todo .mw-task-list > li").length?O():Notiflix.Notify.info("Create at least one task for ToDo"):Notiflix.Notify.info("Enter title for ToDo")})),p()}();
//# sourceMappingURL=index.cc37811b.js.map
