function t(t){$(t).fadeOut()}function o(t){$(t).fadeIn()}function n(){$(window).on("keydown",(function(o){"Escape"===o.key&&(t($(".mw")),$(window).off("keydown"))}))}$(".button-todo-add").click((function(){o($(".mw.add-todo")),n()})),$(".mw.add-todo").mousedown((function(o){o.target.classList.contains("mw")&&(t($(".mw.add-todo")),$(window).off("keydown"))})),$(".mw-input").blur((function(){""!==$(this).val().trim()?$(this).addClass("active"):$(this).removeClass("active")}));const i=JSON.parse(localStorage.getItem("todo-list"))||{};function e({id:t,name:o,isDone:n}){return`\n  <li class="todo-item flex-container-item" data-id="${t}">\n            <p class="todo-item-status ${n?"done":"undone"} global-p">${n?"Done":"Undone"}</p>\n            <p class="todo-item-name global-p">${o}</p>\n            <ul class="todo-item-buttons global-list">\n              <li>\n                <button class="todo-item-button edit-todo-button global-button" type="button" data-id="${t}">Edit</button>\n              </li>\n              <li>\n                <button class="todo-item-button remove-todo-button global-button" type="button" data-id="${t}">Remove</button>\n              </li>\n            </ul>\n          </li>\n  `}function a(){localStorage.setItem("todo-list",JSON.stringify(i))}function d({id:t,name:o,task_list:n,isDone:e}){i[t]={name:o,task_list:n,isDone:e},a()}function s(){Object.keys(i).length?$(".todo-empty-p").fadeOut():$(".todo-empty-p").fadeIn()}function l(){let t="";for(let o in i){const{name:n,isDone:a}=i[o];t+=e({name:n,isDone:a,id:o})}s(),$(".todo-list").html(t),u(),m()}function m(){$(".remove-todo-button").click((function(){var t;t=$(this).attr("data-id"),delete i[t],a(),s(),$(this).parent().parent().parent().fadeOut()}))}function u(){$(".edit-todo-button").click((function(){const e=$(this).attr("data-id"),{name:d,task_list:s}=i[$(this).attr("data-id")];o($(".mw.edit-todo")),n(),$(".mw.mw.edit-todo").mousedown((function(o){o.target.classList.contains("mw")&&(t($(".mw.mw.edit-todo")),$(window).off("keydown"))})),$(".mw-edit-title").text(d);let m=s.map((({text:t,isDone:o,id:n})=>`\n        <li>\n          <p class="mw-task-name global-p">${t}</p>\n          <input class="mw-task-toggle-button global-button" type="checkbox" ${o?"checked":""} data-id="${n}">\n        </li>\n      `));$(".edit-todo .mw-task-list").html(m),$(".mw-task-toggle-button").change((function(){const t=Number($(this).attr("data-id"));i[e].task_list[t].isDone=!i[e].task_list[t].isDone,i[e].task_list.every((t=>t.isDone))?i[e].isDone=!0:i[e].isDone=!1,$(".todo-list").html(""),a(),l()})),$(".edit-todo .todo-title-input").on("input",(function(){i[e].name=$(this).val().trim(),$(".todo-list").html(""),a(),l()}))}))}function c({id:t,name:o,isDone:n}){$(".todo-list").append(e({id:t,name:o,isDone:n})),$(".todo-list > li:last-child").hide().fadeIn(),u(),m()}function r(){const t=$(`\n        <li>\n          <p class="mw-task-name global-p">${$(".todo-task-input").val().trim()}</p>\n          <button class="mw-task-remove-button global-button" type="button">&times;</button>\n        </li>\n    `);$("#add-todo .mw-task-list").append(t),$("#add-todo .mw-task-list > li:last-child").hide().fadeIn(),$("#add-todo .mw-task-remove-button").click((function(){$(this).parent().fadeOut(),setTimeout((()=>{$(this).parent().remove()}),400)}))}function f(){""!==$("#add-todo .todo-task-input").val().trim()&&r()}function p(){return[...new Array(3).keys()].map((()=>{return t=0,o=9,Math.floor(Math.random()*(o-t+1)+t);var t,o})).join("")}function w(){const t={name:$(".todo-title-input").val().trim(),task_list:Array.from($(".mw-added-task-list > li")).map(((t,o)=>({id:o,isDone:!1,text:t.querySelector(".mw-task-name").innerText.trim()}))),id:p(),isDone:!1};d(t),c(t),s()}$(".mw-task-add-button").click((function(){f()})),$(".mw-add-todo-button").click((function(){""!==$("#add-todo .todo-title-input").val().trim()&&0!==$("#add-todo .mw-task-list > li").length&&w()})),l();
//# sourceMappingURL=index.f967dbb7.js.map
