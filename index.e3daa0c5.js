function t(t){$(t).fadeOut()}function o(t){$(t).fadeIn()}function n(){$(window).on("keydown",(function(o){"Escape"===o.key&&(t($(".mw")),$(window).off("keydown"))}))}function i(o){$(o).mousedown((function(n){n.target.classList.contains("mw")&&(t($(o)),$(window).off("keydown"))}))}$(".button-todo-add").click((function(){o($(".mw.add-todo")),n()})),i(".mw.add-todo"),$(".mw-input").blur((function(){""!==$(this).val().trim()?$(this).addClass("active"):$(this).removeClass("active")}));const e=JSON.parse(localStorage.getItem("todo-list"))||{};function a({id:t,name:o,isDone:n}){return`\n  <li class="todo-item flex-container-item" data-id="${t}">\n            <p class="todo-item-status ${n?"done":"undone"} global-p">${n?"Done":"Undone"}</p>\n            <p class="todo-item-name global-p">${o}</p>\n            <ul class="todo-item-buttons global-list">\n              <li>\n                <button class="todo-item-button edit-todo-button global-button" type="button" data-id="${t}">Edit</button>\n              </li>\n              <li>\n                <button class="todo-item-button remove-todo-button global-button" type="button" data-id="${t}">Remove</button>\n              </li>\n            </ul>\n          </li>\n  `}function s(){e?localStorage.setItem("todo-list",JSON.stringify(e)):Notiflix.Notify.failure("ToDo is not saved :(")}function d({id:t,name:o,task_list:n,isDone:i}){e[t]={name:o,task_list:n,isDone:i},Notiflix.Notify.success("ToDo was successfully created"),s()}function l(){Object.keys(e).length?$(".todo-empty-p").fadeOut():$(".todo-empty-p").fadeIn()}function u(){let t="";for(let o in e){const{name:n,isDone:i}=e[o];t+=a({name:n,isDone:i,id:o})}$(".todo-list").html(t),l(),m(),c()}function c(){$(".remove-todo-button").click((function(){var t;t=$(this).attr("data-id"),delete e[t],Notiflix.Notify.success("ToDo was successfully removed"),s(),l(),$(this).parent().parent().parent().fadeOut()}))}function m(){$(".edit-todo-button").click((function(){const t=$(this).attr("data-id"),{name:a,task_list:d}=e[t];o($(".mw.edit-todo")),n(),i(".mw.edit-todo"),$(".mw-edit-title").text(a);let l=d.map((({text:t,isDone:o,id:n})=>`\n        <li>\n          <p class="mw-task-name global-p">${t}</p>\n          <input class="mw-task-toggle-button global-button" type="checkbox" ${o?"checked":""} data-id="${n}">\n        </li>\n      `));$(".edit-todo .mw-task-list").html(l),$(".mw-task-toggle-button").change((function(){const o=Number($(this).attr("data-id"));e[t].task_list[o].isDone=!e[t].task_list[o].isDone,e[t].task_list.every((t=>t.isDone))?e[t].isDone=!0:e[t].isDone=!1,s(),$(".todo-list").html(""),u()}))}))}function f({id:t,name:o,isDone:n}){$(".todo-list").append(a({id:t,name:o,isDone:n})),$(".todo-list > li:last-child").hide().fadeIn(),m(),c()}function r(){const t=$(`\n        <li>\n          <p class="mw-task-name global-p">${$(".todo-task-input").val().trim()}</p>\n          <button class="mw-task-remove-button global-button" type="button">&times;</button>\n        </li>\n    `);$("#add-todo .mw-task-list").append(t),$("#add-todo .mw-task-list > li:last-child").hide().fadeIn(),$("#add-todo .mw-task-remove-button").click((function(){$(this).parent().fadeOut(),setTimeout((()=>{$(this).parent().remove()}),400)}))}function b(){""!==$("#add-todo .todo-task-input").val().trim()&&r()}function p(){return[...new Array(3).keys()].map((()=>{return t=0,o=9,Math.floor(Math.random()*(o-t+1)+t);var t,o})).join("")}function k(){const t={name:$(".todo-title-input").val().trim(),task_list:Array.from($(".mw-added-task-list > li")).map(((t,o)=>({id:o,isDone:!1,text:t.querySelector(".mw-task-name").innerText.trim()}))),id:p(),isDone:!1};d(t),f(t),l()}$(".mw-task-add-button").click((function(){b()})),$(".mw-add-todo-button").click((function(){""!==$("#add-todo .todo-title-input").val().trim()?0!==$("#add-todo .mw-task-list > li").length?k():Notiflix.Notify.info("Create at least one task for ToDo"):Notiflix.Notify.info("Enter title for ToDo")})),u();
//# sourceMappingURL=index.e3daa0c5.js.map
